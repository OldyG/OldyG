쥐쌤 = GPT 선생
---

ㅋㅋㅋㅋ 이거… **가능**해.
근데 “한 번에 끝내는 마법”이 아니라, **AI가 길을 잃지 않게 ‘지도+표지판+사전+규칙’**을 깔아주는 게임이야.
너가 말한 “필요할 때 필요한 MD만 읽게 유도”는 진짜 정석이고, **docs/README.md를 ‘포털’로 쓰는 구조**가 제일 잘 먹힌다.

아래는 **Spring + JSP 레거시(대형) + 새 버전 병행**까지 상정한 **AI-친화 docs 설계도**야.
(“AI가 스스로 찾아가게 만드는” 게 목표라서, 각 폴더마다 *반드시* `README.md`를 둔다)

---

# 1) 최상위 포털: `/docs/README.md`의 역할

이 파일은 “수천 개 링크 나열”이 아니라, **길 안내판**이어야 해.

* **0) 이 레포를 처음 보는 AI/사람이 5분 안에 방향 잡는 문서**
* “문제 해결/기능 추가/리팩토링/배포/테스트” 같은 **작업 유형별 입구**만 제공
* 그리고 각 입구는 **한 단계 아래 README로만 연결** (깊은 파일 링크 금지)

예시:

* 🔥 장애/결함 분석 시작점 → `docs/runbooks/README.md`
* 🧭 도메인 탐색(전자우편/결재/조직…) → `docs/domains/README.md`
* 🗺️ 패키지/디렉토리 지도 → `docs/maps/README.md`
* 🧩 공통 프레임워크/유틸 → `docs/common/README.md`
* 🧪 테스트/재현/환경 → `docs/testing/README.md`
* 🚀 배포/운영/MY환경 → `docs/ops/README.md`
* 📚 용어/약어/화면명 사전 → `docs/glossary/README.md`
* 🧾 규칙/컨벤션/코딩 스타일 → `docs/develop/README.md`

이렇게 “포털-서브포털-실문서” 3단 구조로 가면 **컨텍스트 과부하가 확 줄어듦**.

---

# 2) AI가 “스스로 필요한 문서만 읽는” 구조의 핵심 원리 5개

이건 구조 설계의 철학이야.

### 원리 A) **모든 폴더엔 README.md 하나**

AI가 “어디서부터 읽지?” 할 때, README가 표지판 역할.

### 원리 B) 문서마다 **Front-matter 메타(짧게)**

AI가 검색/선택을 잘하게 “태그/범위/관련 파일 패턴/연관 문서”를 맨 위에 박아.

예시(강추):

```md
---
scope: gw7
domain: email
topic: attachment-download
keywords: [메일백업관리, 첨부파일, 다운로드, 오류, 백업, 저장소]
code_patterns:
  - "com.naon.gw.email.**"
  - "**/mailBackup/**"
  - "**/attach/**"
entry_points:
  - "MailBackupController"
  - "AttachmentDownloadService"
related_docs:
  - "../testing/email/README.md"
  - "../ops/storage/README.md"
---
```

### 원리 C) **“용어 → 화면/기능 → 코드” 3단 사슬**

너가 예로 든 “전자우편/메일백업관리” 같은 단어는
AI가 첫 단계에서 박살나는 지점이니까 반드시 사슬을 만들어야 해.

* 용어(전자우편) = 도메인(email)
* 화면(메일백업관리) = 메뉴/URL/권한
* 코드 = 컨트롤러/서비스/쿼리/테이블

### 원리 D) **모든 도메인 폴더에 “Troubleshooting(장애)” 문서**

AI가 결함 들어왔을 때 “어디부터?”를 잡게 해주는 게 중요함.

### 원리 E) **“찾는 법” 문서가 있어야 함**

이건 진짜 중요해.
AI가 레포에서 파일명을 모를 때는 “검색 쿼리 가이드”가 있어야 한다.

---

# 3) 추천 `/docs` 디렉토리 트리 (AI 친화 설계)

아래는 “최소 이 정도는 있어야 AI가 자가 주행한다” 레벨.

```
docs/
  README.md                      # 최상위 포털(작업유형별 입구)

  00_start-here/
    README.md                    # 30분 온보딩: 프로젝트 정체성/큰그림
    system-overview.md           # GW7 전체 구성(웹/배치/스토리지/외부연동)
    where-to-look-first.md       # "문제 유형별 어디부터 읽어라" 상세판

  glossary/
    README.md                    # 용어 사전 포털
    terms.md                     # 전자우편/결재/사용자… 도메인 단어 정의
    screens.md                   # 화면명(한글) ↔ 메뉴ID ↔ URL ↔ 권한 ↔ 담당도메인
    abbreviations.md             # 약어(예: GW, EML, ACL, ...)
    error-codes.md               # 에러코드/메시지 키 체계

  maps/
    README.md                    # "지도" 포털
    repo-tree.md                 # 디렉토리 구조 요약(상위)
    package-map.md               # 최상위 패키지별 책임
    module-map.md                # 모듈(gradle/maven, war 분리 등) 단위
    entrypoints.md               # main, servlet, filter, listener, scheduler
    dataflow-map.md              # request -> filter -> controller -> service -> dao -> db

  domains/
    README.md                    # 도메인 포털(전자우편, 결재, 조직, 게시판...)
    eml/                         # 도메인(모듈) 별 모듈코드로 네이밍 ex: eml, org, app, brd 등
      README.md                  # 전자우편 도메인 포털
      glossary.md                # 도메인 내부 용어(메일백업관리, 보관함, 첨부…)
      screens/README.md          # 화면별 문서 포털
      screens/mail-backup.md     # "메일백업관리" 화면/기능/URL/권한/흐름/관련코드
      flows/README.md            # 업무흐름 포털
      flows/attachment-download.md
      data/README.md             # 테이블/스토리지/파일경로/메타데이터
      troubleshooting/README.md  # 장애 유형별 포털
      troubleshooting/attach-download-error.md
      code-guide.md              # 패키지/클래스 관례, 주요 엔트리 포인트
    org/
      ... (동일 템플릿)

  common/
    README.md                    # 공통 플랫폼 포털
    web-framework/
      README.md                  # 공통 web layer: 필터, 인터셉터, 공통 예외처리
      filters.md
      interceptors.md
      exception-handling.md
    persistence/
      README.md                  # DAO/MyBatis/JDBC 관례
      sql-mapping-rules.md
      common-mappers.md
    security/
      README.md                  # 인증/권한/세션/ACL
      auth-flow.md
      permission-model.md
    files/
      README.md                  # 첨부/파일저장소/다운로드 스트림/인코딩
      storage-layout.md
      download-flow.md


  develop/
    README.md                    # 규칙 포털(큰틀+세부 규칙)
    naming.md                    # 파일/클래스/메서드/패키지 네이밍
    i18n.md
    back-end/
      README.md                  # 백앤드 개발 규칙
      java-style.md
      transactions.md
      layering.md                # controller/service/dao 규칙
      logging.md
      exceptions.md
    front-end/
      README.md                  # 프론트앤드 개발 규칙
      layering.md                # controller/service/dao 규칙
      jsp-style.md               # JSP/JS 스타일(레거시 유지용)
      jsp-patterns.md
      js-patterns.md

  testing/
    README.md                    # 테스트/재현 포털
    environments.md              # 로컬/MY/스테이징 개념
    how-to-reproduce.md          # 결함 재현 템플릿
    email/
      README.md
      test-data.md
      mock-strategy.md

  ops/
    README.md                    # 운영 포털
    my-environment.md            # MY 환경 정의/접속/제약(너희 내부 기준)
    deployment.md                # 배포 프로세스
    logging.md                   # 로그 위치/검색법
    monitoring.md
    storage/
      README.md                  # 파일 저장소 운영 정보(경로/권한/백업/정리)
      backup-jobs.md
      retention-policy.md

  runbooks/
    README.md                    # "결함 들어왔을 때" 포털(가장 중요)
    triage.md                    # 10분 트리아지 체크리스트
    locate-code.md               # 파일명 몰라도 찾는 법(검색 레시피)
    common-symptoms/
      attachment-download.md
      login-issues.md
      permission-denied.md
    templates/
      bug-report.md              # 결함보고 템플릿
      investigation.md           # 조사기록 템플릿
      fix-plan.md                # 수정계획 템플릿

  ai/
    README.md                    # AI 사용 규칙 포털(에이전트 운영법)
    prompt-playbook.md           # 작업유형별 프롬프트 가이드
    context-loading.md           # "필요한 문서만 읽는" 규칙(너가 원하는 핵심)
    doc-selection-rules.md       # 문서 선택 알고리즘(키워드→포털→세부)
    output-format.md             # AI가 남길 결과 포맷(보고서/PR/코멘트)
```

---

# 4) 너가 원하는 “AI 자가 문서 탐색”을 강제하는 장치

이거 없으면 AI는 그냥 “아는 척” 하거나 “대충 추측” 해버려.

## `/docs/ai/context-loading.md` (핵심 문서)

여기에는 딱 3가지만 넣어:

1. **절대 전부 읽지 말 것**
2. **먼저 포털 README → 좁혀가기**
3. **문서 로딩 로그를 남길 것** (어떤 문서를 왜 읽었는지)

예시 규칙:

* 문제가 들어오면 우선 `docs/runbooks/triage.md`
* 키워드가 도메인이면 `docs/domains/<domain>/README.md`
* 화면명(한글)이면 `docs/glossary/screens.md`에서 매핑
* 파일/스토리지면 `docs/common/files/README.md` + `docs/ops/storage/README.md`
* 마지막에 **“내가 읽은 문서 목록”**을 짧게 출력

이걸 첫 프롬프트에 붙이면 된다:

```md
프로젝트 문서는 docs/README.md부터 시작.
반드시 docs/ai/context-loading.md 규칙을 따르고,
필요한 문서만 단계적으로 읽어라.
읽은 문서 목록을 마지막에 남겨라.
```

---

# 5) “전자우편 / 메일백업관리 / 첨부 다운로드 오류” 같은 질문이 들어오면?

AI가 제대로 움직이려면 문서가 이렇게 연결돼야 해:

1. 용어 모름 → `docs/glossary/terms.md`에서 “전자우편 = email 도메인”
2. 화면 모름 → `docs/glossary/screens.md`에서 “메일백업관리 → 메뉴ID/URL/권한/도메인/email”
3. 도메인 포털 → `docs/domains/email/README.md`
4. 화면 문서 → `docs/domains/email/screens/mail-backup.md`
5. 장애 포털 → `docs/domains/email/troubleshooting/attach-download-error.md`
6. 파일/스토리지면 → `docs/common/files/download-flow.md` + `docs/ops/storage/README.md`
7. 재현/테스트 → `docs/testing/email/README.md`

이렇게 “스스로 탐색”이 된다.

---

# 6) 현실 체크(냉정하지만 중요한 얘기)

가능은 한데, **성공 조건**이 있어.

### 성공 조건 1) “용어↔화면↔코드” 매핑 문서가 반드시 있어야 함

이게 없으면 AI는 영원히 헤맨다.

### 성공 조건 2) 포털 README를 “짧고 강하게” 유지

README가 길어지면 포털이 아니라 늪이 됨.

### 성공 조건 3) 문서 업데이트를 자동화(훅/배치)

문서는 금방 썩어.
최소한 “지도 문서”는 자동 갱신되게 만드는 게 좋음.

---

## 요약

가능해. 핵심은 `/docs/README.md`를 **포털**로 만들고, 각 하위 폴더마다 **README(서브포털)**를 둔 “3단 구조”로 AI가 필요한 문서만 단계적으로 로딩하게 만드는 거야. 특히 **용어↔화면↔코드 매핑**, **runbooks(장애)**, **문서 로딩 규칙(ai/context-loading.md)** 이 3개가 AI 자가주행의 엔진이다.

---

다음으로 진짜 맛있는 거 하나 제안할게 😏
너가 원하는 “AI가 스스로 문서 찾아 읽기”는 **검색 키워드**가 생명이거든?

그래서 `docs/glossary/screens.md`를 **표 형태(메뉴명/한글/URL/권한/도메인/패키지패턴/대표 클래스)** 로 설계해버리면,
AI가 1~2번 문서만 읽고도 바로 코드 찾으러 간다.

원하면 내가 그 `screens.md` 표 스키마(컬럼 설계)랑, “메일백업관리” 예시 한 줄까지 같이 만들어줄게.


---




---

# 전체 그림 먼저 한 번에 잡자 🧠

이 구조를 한 문장으로 요약하면 이거야:

> **“AI와 사람이 문제를 해결할 때
> ‘어디부터 보고 → 무엇을 확인하고 → 어떻게 파고들지’를
> 강제로 안내하는 지식 네비게이션 구조”**

그래서 모든 최상위 디렉토리는
👉 **“특정 질문 유형 하나”**를 전담해.

---

# 1️⃣ `00_start-here/`

### ❓ 이 디렉토리가 답하는 질문

> “이 프로젝트 뭐야?
> 처음 온 사람(또는 AI)은 어디서부터 보면 돼?”

### 💡 왜 필요한가

AI든 사람이든 제일 먼저 드는 생각이 이거잖아:

* 이거 **웹이야? 배치야?**
* 핵심 시스템은 뭐야?
* 이거 지금 **운영 중인 거야? 레거시야?**

이걸 README 하나로 **30분 안에 방향 잡게** 만드는 곳이야.

### 🧠 성격

* **온보딩 전용**
* 기술 디테일 ❌
* “큰 그림 + 길 안내” ⭕

👉 이게 없으면 AI는 바로 `src/main/java`부터 씹어먹다가 헤매기 시작함.

---

# 2️⃣ `glossary/`

### ❓ 이 디렉토리가 답하는 질문

> “이 사람들이 쓰는 말이 도대체 무슨 뜻이야?”

### 💡 왜 필요한가 (진짜 중요)

너가 예로 든 거 그대로야:

* 전자우편?
* 메일백업관리?
* MY 환경?
* EML? ACL? GW?

이건 **AI한테 제일 잔인한 지점**이야.
사람은 “아 그거~” 하고 넘기는데,
AI는 여기서 **추측 지옥**에 빠짐.

### 🧠 성격

* **사전**
* 한글 ↔ 영문 ↔ 코드 ↔ 화면 ↔ 권한 연결
* 모든 문서의 **출발점**

👉 이거 잘 만들어두면
AI가 “전자우편?” → “email 도메인이군” 하고 바로 방향 튼다.

---

# 3️⃣ `maps/`

### ❓ 이 디렉토리가 답하는 질문

> “이 코드베이스는 어떤 덩어리로 나뉘어 있어?”

### 💡 왜 필요한가

레거시에서 제일 힘든 게 이거잖아:

* 패키지가 왜 이렇게 나뉘었지?
* 이 모듈이 핵심이야? 변두리야?
* 어디가 진입점이지?

이건 **지도**야.
길 하나하나 설명 ❌
**산맥·강·도시 위치**만 보여줌 ⭕

### 🧠 성격

* 구조 요약
* 디렉토리/패키지/모듈 단위
* AI가 “어디를 파야 할지” 결정할 때 참조

👉 이게 없으면 AI는 항상 **랜덤 워크**를 시작함.

---

# 4️⃣ `domains/`

### ❓ 이 디렉토리가 답하는 질문

> “이 기능은 어떤 ‘업무 도메인’ 이야기야?”

### 💡 왜 필요한가

사람은 이렇게 말하잖아:

* “전자우편 쪽이야”
* “결재 도메인이야”

근데 코드에는 그 말이 없음.
`EmailService`? `MailMgr`? `EmlController`?

그래서 **업무 개념 중심의 문서 공간**이 필요해.

### 🧠 성격

* **업무 단위**
* 화면 / 흐름 / 데이터 / 장애
* 가장 많은 md가 쌓이는 곳

👉 AI가 “메일백업관리 오류” 들으면
**여기로 직행해야 정상**이야.

---

# 5️⃣ `common/`

### ❓ 이 디렉토리가 답하는 질문

> “이 프로젝트 전반을 관통하는 공통 메커니즘은 뭐야?”

### 💡 왜 필요한가

레거시에서 진짜 무서운 건:

* 공통 다운로드 로직
* 공통 예외 처리
* 공통 트랜잭션
* 공통 파일 저장소

이걸 모르고 고치면
**한 줄 수정 → 전체 터짐** 😱

### 🧠 성격

* 프레임워크 관점
* 횡단 관심사
* “건드리면 위험한 곳”

👉 AI가 “첨부 다운로드 오류” 분석할 때
여기를 안 보면 **반쪽짜리 분석**이 된다.

---

# 6️⃣ `develop/`

### ❓ 이 디렉토리가 답하는 질문

> “여기서는 ‘어떻게’ 짜야 정상이지?”

### 💡 왜 필요한가

규칙이 없어서 문제가 아니라
**규칙이 ‘암묵적’이라서** 문제가 되는 경우가 많잖아.

* 이 DAO는 왜 이렇게 짰지?
* 예외는 왜 여기서 잡지?
* 로그 포맷 왜 이래?

이걸 **AI와 사람 모두에게 명시**하는 공간이야.

### 🧠 성격

* 컨벤션
* 코딩 규칙
* “이 프로젝트답게 짜는 법”

👉 이게 있으면 AI 결과물이
“우리 코드 같아지는” 마법이 생김.

---

# 7️⃣ `testing/`

### ❓ 이 디렉토리가 답하는 질문

> “이거 어떻게 재현하고, 어떻게 검증하지?”

### 💡 왜 필요한가

AI가 제일 약한 게 이거야:

* 어떤 계정으로?
* 어떤 데이터로?
* 어떤 환경에서?

그래서 **재현 방법을 문서로 고정**해둬야 해.

### 🧠 성격

* 재현 시나리오
* 테스트 데이터
* 환경 차이 설명

👉 이게 있으면 AI가
“고칠게요!” 하기 전에
“재현부터 해보겠습니다”로 바뀜.

---

# 8️⃣ `ops/`

### ❓ 이 디렉토리가 답하는 질문

> “운영 환경에서는 이게 어떻게 돌아가?”

### 💡 왜 필요한가

Groupware7은 **운영 중**이잖아.

* 로그 위치
* 스토리지 경로
* 백업 정책
* MY 환경 차이

이거 모르고 코드만 보면
AI도, 사람도 **현실과 동떨어진 판단**을 함.

### 🧠 성격

* 운영 관점
* 인프라/환경
* “실제 서버에서의 진실”

---

# 9️⃣ `runbooks/`

### ❓ 이 디렉토리가 답하는 질문

> “지금 장애 들어왔어. 뭐부터 하지?”

### 💡 왜 필요한가 (공수 줄이는 핵심)

이건 **실무 최전선**이야.

* 어디부터 본다
* 뭘 먼저 확인한다
* 흔한 원인은 뭔지

AI가 **초동 대응을 제대로 하게 만드는 곳**.

### 🧠 성격

* 체크리스트
* 조사 순서
* 템플릿

👉 이거 하나만 잘 돼도
“반나절 헤매기”가 “30분 조사”로 줄어듦.

---

# 🔟 `ai/`

### ❓ 이 디렉토리가 답하는 질문

> “AI야, 너 여기서 어떻게 행동해야 돼?”

### 💡 왜 필요한가

이게 없으면 AI는:

* 문서 다 읽고
* 추측하고
* 말 많아지고
* 틀려도 자신감 가짐 😅

그래서 **AI 행동 규칙을 문서로 박아두는 것**.

### 🧠 성격

* 컨텍스트 로딩 규칙
* 문서 선택 규칙
* 출력 포맷

👉 이게 있어야
AGENTS.md 한 줄이 **실제 힘**을 가짐.

---

# 한 줄로 다시 요약하면

* **start-here**: 처음 길잡이
* **glossary**: 말 뜻부터 정리
* **maps**: 구조 지도
* **domains**: 업무 이야기
* **common**: 공통·위험 구간
* **develop**: 이 집 규칙
* **testing**: 재현과 검증
* **ops**: 운영 현실
* **runbooks**: 장애 대응
* **ai**: AI 사용 설명서

이게 합쳐져서
👉 **AI가 “헤매지 않고 스스로 파고들 수 있는 환경”**이 되는 거야.

---
